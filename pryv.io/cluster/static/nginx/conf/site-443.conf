
# Static Web
server {
  listen               443;
  server_name          sw.pryv.li;
  access_log           /app/log/sw.access.log;

  ssl                  on;

  client_max_body_size 5M;

  proxy_set_header  Host $http_host;

  # App-web-auth 3:
  # All access calls are handled by index.html, except for static assets
  if ($request_uri !~* "^/access/static/.*$") {
    rewrite ^.*$ /access/index.html;
  }

  location /access/ {
      proxy_pass        https://pryv.github.io/app-web-auth3/;
      proxy_set_header  Host 'pryv.github.io';
  }

}
